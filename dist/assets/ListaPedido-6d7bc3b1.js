import{p as x}from"./PedidoService-12c741cf.js";import{_ as w,r as _,d as v,e as p,o as R,c as E,a,f as d,b as s,t as l,i as b,n as y}from"./index-a53d4824.js";const A={setup(){const u=_([]);v(()=>{n()});const n=async()=>{const{data:e}=await x.listar();u.value=e.rows},r=_([]);return{pedidos:u,expandedRows:r,onRowExpand:e=>{toast.add({severity:"info",summary:"Product Expanded",detail:e.data.name,life:3e3})},onRowCollapse:e=>{toast.add({severity:"success",summary:"Product Collapsed",detail:e.data.name,life:3e3})},expandAll:()=>{r.value=products.value.filter(e=>e.id),toast.add({severity:"success",summary:"All Rows Expanded",life:3e3})},collapseAll:()=>{r.value=null,toast.add({severity:"success",summary:"All Rows Collapsed",life:3e3})},formatCurrency:e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}},k={class:"card"},S={class:"table-header-container"},D={class:"orders-subtable"};function T(u,n,r,t,C,h){const m=p("Toast"),c=p("Button"),e=p("Column"),f=p("DataTable");return R(),E("div",k,[a(m),a(f,{value:t.pedidos,expandedRows:t.expandedRows,"onUpdate:expandedRows":n[0]||(n[0]=o=>t.expandedRows=o),dataKey:"id",onRowExpand:t.onRowExpand,onRowCollapse:t.onRowCollapse,responsiveLayout:"scroll"},{header:d(()=>[s("div",S,[a(c,{icon:"pi pi-plus",label:"Expand All",onClick:t.expandAll,class:"mr-2"},null,8,["onClick"]),a(c,{icon:"pi pi-minus",label:"Collapse All",onClick:t.collapseAll},null,8,["onClick"])])]),expansion:d(o=>[s("div",D,[s("h5",null,"Productos del Pedido "+l(o.data.id),1),a(f,{value:o.data.Productos,responsiveLayout:"scroll"},{default:d(()=>[a(e,{field:"id",header:"Id",sortable:""}),a(e,{field:"nombre",header:"Nombre",sortable:""}),a(e,{field:"date",header:"Date",sortable:""}),a(e,{field:"precio",header:"Precio",sortable:""},{body:d(i=>[b(l(t.formatCurrency(i.data.precio)),1)]),_:2},1024),a(e,{field:"stock",header:"Stock",sortable:""},{body:d(i=>[s("span",{class:y("order-badge order-"+i.data.estado)},l(i.data.stock),3)]),_:2},1024),a(e,{headerStyle:"width:4rem"},{body:d(()=>[a(c,{icon:"pi pi-search"})]),_:1})]),_:2},1032,["value"])])]),default:d(()=>[a(e,{expander:!0,headerStyle:"width: 3rem"}),a(e,{field:"id",header:"ID",sortable:""}),a(e,{field:"fecha",header:"Fecha",sortable:""},{body:d(o=>[b(l(o.data.fecha),1)]),_:1}),a(e,{field:"Cliente",header:"CLIENTE"},{body:d(o=>[s("h5",null,l(o.data.Cliente.nombre_completo),1),s("h6",null,l(o.data.Cliente.correo)+" - "+l(o.data.Cliente.telefono),1)]),_:1}),a(e,{field:"estado",header:"Estado",sortable:""},{body:d(o=>[s("span",{class:y("product-badge status-"+o.data.estado)},l(o.data.estado==1?"PROCESO":"COMPLETADO"),3)]),_:1})]),_:1},8,["value","expandedRows","onRowExpand","onRowCollapse"])])}const N=w(A,[["render",T]]);export{N as default};
